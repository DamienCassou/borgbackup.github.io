<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Borg Changelog &mdash; Borg - Deduplicating Archiver 0.23.0+95.gd65ca51 documentation</title>
    
    <link rel="stylesheet" href="_static/local.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.23.0+95.gd65ca51',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Borg - Deduplicating Archiver 0.23.0+95.gd65ca51 documentation" href="index.html" />
    <link rel="next" title="Internals" href="internals.html" />
    <link rel="prev" title="Support" href="support.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="internals.html" title="Internals"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="support.html" title="Support"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Borg - Deduplicating Archiver 0.23.0+95.gd65ca51 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="borg-changelog">
<span id="changelog"></span><h1>Borg Changelog<a class="headerlink" href="#borg-changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="version-0-24-0">
<h2>Version 0.24.0<a class="headerlink" href="#version-0-24-0" title="Permalink to this headline">¶</a></h2>
<p>Incompatible changes (compared to 0.23):</p>
<ul class="simple">
<li>borg now always issues &#8211;umask NNN option when invoking another borg via ssh
on the repository server. By that, it&#8217;s making sure it uses the same umask
for remote repos as for local ones. Because of this, you must upgrade both
server and client(s) to 0.24.</li>
<li>the default umask is 077 now (if you do not specify via &#8211;umask) which might
be a different one as you used previously. The default umask avoids that
you accidentially give access permissions for group and/or others to files
created by borg (e.g. the repository).</li>
</ul>
<p>New features:</p>
<ul class="simple">
<li>borg create &#8211;chunker-params ... to configure the chunker, fixes #16
(attic #302, attic #300, and somehow also #41).
This can be used to reduce memory usage caused by chunk management overhead,
so borg does not create a huge chunks index/repo index and eats all your RAM
if you back up lots of data in huge files (like VM disk images).
See docs/misc/create_chunker-params.txt for more information.</li>
<li>borg info now reports chunk counts in the chunk index.</li>
<li>borg create &#8211;compression 0..9 to select zlib compression level, fixes #66
(attic #295).</li>
<li>borg init &#8211;encryption repokey (to store the encryption key into the repo),
deprecate &#8211;encryption passphrase, fixes #85</li>
<li>improve at-end error logging, always log exceptions and set exit_code=1</li>
<li>LoggedIO: better error checks / exceptions / exception handling</li>
<li>implement &#8211;remote-path to allow non-default-path borg locations, #125</li>
<li>implement &#8211;umask M and use 077 as default umask for better security, #117</li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li>fix segfault that happened for unreadable files (chunker: n needs to be a
signed size_t), #116</li>
<li>repo delete: add destroy to allowed rpc methods, fixes issue #114</li>
<li>more compatible repository locking code (based on mkdir), maybe fixes #92
(attic #317, attic #201).</li>
<li>better Exception msg if no Borg is installed on the remote repo server, #56</li>
<li>create a RepositoryCache implementation that can cope with &gt;2GiB,
fixes attic #326.</li>
<li>fix Traceback when running check &#8211;repair, attic #232</li>
<li>clarify help text, fixes #73.</li>
</ul>
<p>Other changes:</p>
<ul class="simple">
<li>improved docs:<ul>
<li>added docs/misc directory for misc. writeups that won&#8217;t be included
&#8220;as is&#8221; into the html docs.</li>
<li>document environment variables and return codes (attic #324, attic #52)</li>
<li>web site: add related projects, fix web site url, IRC #borgbackup</li>
<li>Fedora/Fedora-based install instructions added to docs</li>
<li>Cygwin-based install instructions added to docs</li>
<li>updated AUTHORS</li>
<li>add FAQ entries about redundancy / integrity</li>
<li>clarify that borg extract uses the cwd as extraction target</li>
<li>update internals doc about chunker params, memory usage and compression</li>
<li>add some words about resource usage</li>
<li>document how to backup raw disk</li>
<li>add note about how to run borg from virtual env</li>
<li>add solutions for (ll)fuse installation problems</li>
<li>tested and updated cygwin docs</li>
</ul>
</li>
<li>use borg-tmp as prefix for temporary files / directories</li>
<li>short prune options without &#8220;keep-&#8221; are deprecated, do not suggest them</li>
<li>improved tox configuration, documented there how to invoke it</li>
<li>remove usage of unittest.mock, always use mock from pypi</li>
<li>use entrypoints instead of scripts, for better use of the wheel format and
modern installs</li>
<li>add requirements.d/development.txt and modify tox.ini</li>
</ul>
<p>I forgot to list some stuff already implemented in 0.23.0, here they are:</p>
<p>New features:</p>
<ul class="simple">
<li>efficient archive list from manifest, meaning a big speedup for slow
repo connections and &#8220;list &lt;repo&gt;&#8221;, &#8220;delete &lt;repo&gt;&#8221;, &#8220;prune&#8221; (attic #242,
attic #167)</li>
<li>big speedup for chunks cache sync (esp. for slow repo connections), fixes #18</li>
<li>hashindex: improve error messages</li>
</ul>
<p>Other changes:</p>
<ul class="simple">
<li>explicitly specify binary mode to open binary files</li>
<li>some easy micro optimizations</li>
</ul>
</div>
<div class="section" id="version-0-23-0">
<h2>Version 0.23.0<a class="headerlink" href="#version-0-23-0" title="Permalink to this headline">¶</a></h2>
<p>Incompatible changes (compared to attic, fork related):</p>
<ul class="simple">
<li>changed sw name and cli command to &#8220;borg&#8221;, updated docs</li>
<li>package name (and name in urls) uses &#8220;borgbackup&#8221; to have less collisions</li>
<li>changed repo / cache internal magic strings from ATTIC* to BORG*,
changed cache location to .cache/borg/ - this means that it currently won&#8217;t
accept attic repos (see issue #21 about improving that)</li>
</ul>
<p>Bug fixes:</p>
<ul class="simple">
<li>avoid defect python-msgpack releases, fixes attic #171, fixes attic #185</li>
<li>fix traceback when trying to do unsupported passphrase change, fixes attic #189</li>
<li>datetime does not like the year 10.000, fixes attic #139</li>
<li>fix &#8220;info&#8221; all archives stats, fixes attic #183</li>
<li>fix parsing with missing microseconds, fixes attic #282</li>
<li>fix misleading hint the fuse ImportError handler gave, fixes attic #237</li>
<li>check unpacked data from RPC for tuple type and correct length, fixes attic #127</li>
<li>fix Repository._active_txn state when lock upgrade fails</li>
<li>give specific path to xattr.is_enabled(), disable symlink setattr call that
always fails</li>
<li>fix test setup for 32bit platforms, partial fix for attic #196</li>
<li>upgraded versioneer, PEP440 compliance, fixes attic #257</li>
</ul>
<p>New features:</p>
<ul class="simple">
<li>less memory usage: add global option &#8211;no-cache-files</li>
<li>check &#8211;last N (only check the last N archives)</li>
<li>check: sort archives in reverse time order</li>
<li>rename repo::oldname newname (rename repository)</li>
<li>create -v output more informative</li>
<li>create &#8211;progress (backup progress indicator)</li>
<li>create &#8211;timestamp (utc string or reference file/dir)</li>
<li>create: if &#8220;-&#8221; is given as path, read binary from stdin</li>
<li>extract: if &#8211;stdout is given, write all extracted binary data to stdout</li>
<li>extract &#8211;sparse (simple sparse file support)</li>
<li>extra debug information for &#8216;fread failed&#8217;</li>
<li>delete &lt;repo&gt; (deletes whole repo + local cache)</li>
<li>FUSE: reflect deduplication in allocated blocks</li>
<li>only allow whitelisted RPC calls in server mode</li>
<li>normalize source/exclude paths before matching</li>
<li>use posix_fadvise to not spoil the OS cache, fixes attic #252</li>
<li>toplevel error handler: show tracebacks for better error analysis</li>
<li>sigusr1 / sigint handler to print current file infos - attic PR #286</li>
<li>RPCError: include the exception args we get from remote</li>
</ul>
<p>Other changes:</p>
<ul class="simple">
<li>source: misc. cleanups, pep8, style</li>
<li>docs and faq improvements, fixes, updates</li>
<li>cleanup crypto.pyx, make it easier to adapt to other AES modes</li>
<li>do os.fsync like recommended in the python docs</li>
<li>source: Let chunker optionally work with os-level file descriptor.</li>
<li>source: Linux: remove duplicate os.fsencode calls</li>
<li>source: refactor _open_rb code a bit, so it is more consistent / regular</li>
<li>source: refactor indicator (status) and item processing</li>
<li>source: use py.test for better testing, flake8 for code style checks</li>
<li>source: fix tox &gt;=2.0 compatibility (test runner)</li>
<li>pypi package: add python version classifiers, add FreeBSD to platforms</li>
</ul>
</div>
</div>
<div class="section" id="attic-changelog">
<h1>Attic Changelog<a class="headerlink" href="#attic-changelog" title="Permalink to this headline">¶</a></h1>
<p>Here you can see the full list of changes between each Attic release until Borg
forked from Attic:</p>
<div class="section" id="version-0-17">
<h2>Version 0.17<a class="headerlink" href="#version-0-17" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on X)
- Fix hashindex ARM memory alignment issue (#309)
- Improve hashindex error messages (#298)</p>
</div>
<div class="section" id="version-0-16">
<h2>Version 0.16<a class="headerlink" href="#version-0-16" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on May 16, 2015)
- Fix typo preventing the security confirmation prompt from working (#303)
- Improve handling of systems with improperly configured file system encoding (#289)
- Fix &#8220;All archives&#8221; output for attic info. (#183)
- More user friendly error message when repository key file is not found (#236)
- Fix parsing of iso 8601 timestamps with zero microseconds (#282)</p>
</div>
<div class="section" id="version-0-15">
<h2>Version 0.15<a class="headerlink" href="#version-0-15" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on Apr 15, 2015)
- xattr: Be less strict about unknown/unsupported platforms (#239)
- Reduce repository listing memory usage (#163).
- Fix BrokenPipeError for remote repositories (#233)
- Fix incorrect behavior with two character directory names (#265, #268)
- Require approval before accessing relocated/moved repository (#271)
- Require approval before accessing previously unknown unencrypted repositories (#271)
- Fix issue with hash index files larger than 2GB.
- Fix Python 3.2 compatibility issue with noatime open() (#164)
- Include missing pyx files in dist files (#168)</p>
</div>
<div class="section" id="version-0-14">
<h2>Version 0.14<a class="headerlink" href="#version-0-14" title="Permalink to this headline">¶</a></h2>
<p>(feature release, released on Dec 17, 2014)
- Added support for stripping leading path segments (#95)</p>
<blockquote>
<div>&#8220;attic extract &#8211;strip-segments X&#8221;</div></blockquote>
<ul class="simple">
<li>Add workaround for old Linux systems without acl_extended_file_no_follow (#96)</li>
<li>Add MacPorts&#8217; path to the default openssl search path (#101)</li>
<li>HashIndex improvements, eliminates unnecessary IO on low memory systems.</li>
<li>Fix &#8220;Number of files&#8221; output for attic info. (#124)</li>
<li>limit create file permissions so files aren&#8217;t read while restoring</li>
<li>Fix issue with empty xattr values (#106)</li>
</ul>
</div>
<div class="section" id="version-0-13">
<h2>Version 0.13<a class="headerlink" href="#version-0-13" title="Permalink to this headline">¶</a></h2>
<p>(feature release, released on Jun 29, 2014)</p>
<ul class="simple">
<li>Fix sporadic &#8220;Resource temporarily unavailable&#8221; when using remote repositories</li>
<li>Reduce file cache memory usage (#90)</li>
<li>Faster AES encryption (utilizing AES-NI when available)</li>
<li>Experimental Linux, OS X and FreeBSD ACL support (#66)</li>
<li>Added support for backup and restore of BSDFlags (OSX, FreeBSD) (#56)</li>
<li>Fix bug where xattrs on symlinks were not correctly restored</li>
<li>Added cachedir support. CACHEDIR.TAG compatible cache directories
can now be excluded using <code class="docutils literal"><span class="pre">--exclude-caches</span></code> (#74)</li>
<li>Fix crash on extreme mtime timestamps (year 2400+) (#81)</li>
<li>Fix Python 3.2 specific lockf issue (EDEADLK)</li>
</ul>
</div>
<div class="section" id="version-0-12">
<h2>Version 0.12<a class="headerlink" href="#version-0-12" title="Permalink to this headline">¶</a></h2>
<p>(feature release, released on April 7, 2014)</p>
<ul class="simple">
<li>Python 3.4 support (#62)</li>
<li>Various documentation improvements a new style</li>
<li><code class="docutils literal"><span class="pre">attic</span> <span class="pre">mount</span></code> now supports mounting an entire repository not only
individual archives (#59)</li>
<li>Added option to restrict remote repository access to specific path(s):
<code class="docutils literal"><span class="pre">attic</span> <span class="pre">serve</span> <span class="pre">--restrict-to-path</span> <span class="pre">X</span></code> (#51)</li>
<li>Include &#8220;all archives&#8221; size information in &#8220;&#8211;stats&#8221; output. (#54)</li>
<li>Added <code class="docutils literal"><span class="pre">--stats</span></code> option to <code class="docutils literal"><span class="pre">attic</span> <span class="pre">delete</span></code> and <code class="docutils literal"><span class="pre">attic</span> <span class="pre">prune</span></code></li>
<li>Fixed bug where <code class="docutils literal"><span class="pre">attic</span> <span class="pre">prune</span></code> used UTC instead of the local time zone
when determining which archives to keep.</li>
<li>Switch to SI units (Power of 1000 instead 1024) when printing file sizes</li>
</ul>
</div>
<div class="section" id="version-0-11">
<h2>Version 0.11<a class="headerlink" href="#version-0-11" title="Permalink to this headline">¶</a></h2>
<p>(feature release, released on March 7, 2014)</p>
<ul class="simple">
<li>New &#8220;check&#8221; command for repository consistency checking (#24)</li>
<li>Documentation improvements</li>
<li>Fix exception during &#8220;attic create&#8221; with repeated files (#39)</li>
<li>New &#8220;&#8211;exclude-from&#8221; option for attic create/extract/verify.</li>
<li>Improved archive metadata deduplication.</li>
<li>&#8220;attic verify&#8221; has been deprecated. Use &#8220;attic extract &#8211;dry-run&#8221; instead.</li>
<li>&#8220;attic prune &#8211;hourly|daily|...&#8221; has been deprecated.
Use &#8220;attic prune &#8211;keep-hourly|daily|...&#8221; instead.</li>
<li>Ignore xattr errors during &#8220;extract&#8221; if not supported by the filesystem. (#46)</li>
</ul>
</div>
<div class="section" id="version-0-10">
<h2>Version 0.10<a class="headerlink" href="#version-0-10" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on Jan 30, 2014)</p>
<ul class="simple">
<li>Fix deadlock when extracting 0 sized files from remote repositories</li>
<li>&#8220;&#8211;exclude&#8221; wildcard patterns are now properly applied to the full path
not just the file name part (#5).</li>
<li>Make source code endianness agnostic (#1)</li>
</ul>
</div>
<div class="section" id="version-0-9">
<h2>Version 0.9<a class="headerlink" href="#version-0-9" title="Permalink to this headline">¶</a></h2>
<p>(feature release, released on Jan 23, 2014)</p>
<ul class="simple">
<li>Remote repository speed and reliability improvements.</li>
<li>Fix sorting of segment names to ignore NFS left over files. (#17)</li>
<li>Fix incorrect display of time (#13)</li>
<li>Improved error handling / reporting. (#12)</li>
<li>Use fcntl() instead of flock() when locking repository/cache. (#15)</li>
<li>Let ssh figure out port/user if not specified so we don&#8217;t override .ssh/config (#9)</li>
<li>Improved libcrypto path detection (#23).</li>
</ul>
</div>
<div class="section" id="version-0-8-1">
<h2>Version 0.8.1<a class="headerlink" href="#version-0-8-1" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on Oct 4, 2013)</p>
<ul class="simple">
<li>Fix segmentation fault issue.</li>
</ul>
</div>
<div class="section" id="version-0-8">
<h2>Version 0.8<a class="headerlink" href="#version-0-8" title="Permalink to this headline">¶</a></h2>
<p>(feature release, released on Oct 3, 2013)</p>
<ul>
<li><p class="first">Fix xattr issue when backing up sshfs filesystems (#4)</p>
</li>
<li><p class="first">Fix issue with excessive index file size (#6)</p>
</li>
<li><p class="first">Support access of read only repositories.</p>
</li>
<li><dl class="first docutils">
<dt>New syntax to enable repository encryption:</dt>
<dd><p class="first last">attic init &#8211;encryption=&#8221;none|passphrase|keyfile&#8221;.</p>
</dd>
</dl>
</li>
<li><p class="first">Detect and abort if repository is older than the cache.</p>
</li>
</ul>
</div>
<div class="section" id="version-0-7">
<h2>Version 0.7<a class="headerlink" href="#version-0-7" title="Permalink to this headline">¶</a></h2>
<p>(feature release, released on Aug 5, 2013)</p>
<ul class="simple">
<li>Ported to FreeBSD</li>
<li>Improved documentation</li>
<li>Experimental: Archives mountable as fuse filesystems.</li>
<li>The &#8220;user.&#8221; prefix is no longer stripped from xattrs on Linux</li>
</ul>
</div>
<div class="section" id="version-0-6-1">
<h2>Version 0.6.1<a class="headerlink" href="#version-0-6-1" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on July 19, 2013)</p>
<ul class="simple">
<li>Fixed an issue where mtime was not always correctly restored.</li>
</ul>
</div>
<div class="section" id="version-0-6">
<h2>Version 0.6<a class="headerlink" href="#version-0-6" title="Permalink to this headline">¶</a></h2>
<p>First public release on July 9, 2013</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="sidebarlogo">
  <a href="index.html">
  <div class="title">Borg</div>
</a>
</div>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Borg Changelog</a><ul>
<li><a class="reference internal" href="#version-0-24-0">Version 0.24.0</a></li>
<li><a class="reference internal" href="#version-0-23-0">Version 0.23.0</a></li>
</ul>
</li>
<li><a class="reference internal" href="#attic-changelog">Attic Changelog</a><ul>
<li><a class="reference internal" href="#version-0-17">Version 0.17</a></li>
<li><a class="reference internal" href="#version-0-16">Version 0.16</a></li>
<li><a class="reference internal" href="#version-0-15">Version 0.15</a></li>
<li><a class="reference internal" href="#version-0-14">Version 0.14</a></li>
<li><a class="reference internal" href="#version-0-13">Version 0.13</a></li>
<li><a class="reference internal" href="#version-0-12">Version 0.12</a></li>
<li><a class="reference internal" href="#version-0-11">Version 0.11</a></li>
<li><a class="reference internal" href="#version-0-10">Version 0.10</a></li>
<li><a class="reference internal" href="#version-0-9">Version 0.9</a></li>
<li><a class="reference internal" href="#version-0-8-1">Version 0.8.1</a></li>
<li><a class="reference internal" href="#version-0-8">Version 0.8</a></li>
<li><a class="reference internal" href="#version-0-7">Version 0.7</a></li>
<li><a class="reference internal" href="#version-0-6-1">Version 0.6.1</a></li>
<li><a class="reference internal" href="#version-0-6">Version 0.6</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="support.html"
                        title="previous chapter">Support</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="internals.html"
                        title="next chapter">Internals</a></p><a href="https://github.com/borgbackup/borg"><img style="position: fixed; top: 0; right: 0; border: 0;"
  src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>

<h3>Useful Links</h3>
<ul>
  <li><a href="https://borgbackup.github.io/borgbackup/">Main Web Site</a></li>
  <li><a href="https://pypi.python.org/pypi/borgbackup">PyPI packages</a></li>
  <li><a href="https://github.com/borgbackup/borg">GitHub</a></li>
  <li><a href="https://github.com/borgbackup/borg/issues">Issue Tracker</a></li>
  <li><a href="https://www.bountysource.com/teams/borgbackup">Bounties &amp; Fundraisers</a></li>
  <li><a href="http://librelist.com/browser/borgbackup/">Mailing List</a></li>
</ul>

<h3>Related Projects</h3>
<ul>
  <li><a href="https://borgbackup.github.io/borgweb/">BorgWeb</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="internals.html" title="Internals"
             >next</a></li>
        <li class="right" >
          <a href="support.html" title="Support"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Borg - Deduplicating Archiver 0.23.0+95.gd65ca51 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    </div>
  </body>
</html>